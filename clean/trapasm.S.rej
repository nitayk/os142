--- trapasm.S	(revision 3)
+++ trapasm.S	(working copy)
@@ -33,3 +33,15 @@
   popl %ds
   addl $0x8, %esp  # trapno and errcode
   iret
+
+
+.globl read_cr2
+read_cr2:
+  movl %cr2, %eax
+  ret
+
+.globl flush_tlb_all
+flush_tlb_all:
+  movl %cr3, %eax
+  movl %eax, %cr3
+  ret