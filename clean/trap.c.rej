--- trap.c	(revision 3)
+++ trap.c	(working copy)
@@ -45,7 +45,14 @@
       exit();
     return;
   }
-
+  
+  if(tf->trapno == T_PGFLT)
+  {
+    proc->tf = tf;
+    handle_pgflt ();
+    return;
+  }
+  
   switch(tf->trapno){
   case T_IRQ0 + IRQ_TIMER:
     if(cpu->id == 0){
