--- defs.h	(revision 3)
+++ defs.h	(working copy)
@@ -105,6 +105,7 @@
 struct proc*    copyproc(struct proc*);
 void            exit(void);
 int             fork(void);
+int             cowfork(void);
 int             growproc(int);
 int             kill(int);
 void            pinit(void);
@@ -170,8 +171,12 @@
 int             deallocuvm(pde_t*, uint, uint);
 void            freevm(pde_t*);
 void            inituvm(pde_t*, char*, uint);
-int             loaduvm(pde_t*, char*, struct inode*, uint, uint);
+int             loaduvm(pde_t*, char*, struct inode*, uint, uint,uint); //task3
 pde_t*          copyuvm(pde_t*, uint);
+pde_t*          copyuvm_cow(pde_t*, uint);
+void 		handle_pgflt (void);
+uint 		read_cr2 (void);
+void 		flush_tlb_all (void);
 void            switchuvm(struct proc*);
 void            switchkvm(void);
 int             copyout(pde_t*, uint, void*, uint);
